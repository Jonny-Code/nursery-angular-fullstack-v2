<div class="container-fluid">
  <nav class="row bg-dark">
    <div class="col-1 pl-3 pr-3 ml-2 pt-2 text-center">
      <svg
        version="1.1"
        id="Capa_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        width="30px"
        height="32px"
        x="0px"
        y="0px"
        viewBox="10 50 469.803 469.803"
        style="cursor: pointer; enable-background:new 0 100 469.803 469.803;"
        xml:space="preserve"
      >
        <g>
          <path
            style="fill:#4CAF50;"
            d="M188.864,67.349C147.819,26.325,67.499,21.568,10.667,21.568C4.776,21.568,0,26.344,0,32.235
                c0,56.853,4.757,137.173,45.781,178.219c19.261,17.154,44.438,26.143,70.208,25.067c26.571,1.047,52.57-7.896,72.875-25.067
                C219.435,179.861,225.045,103.531,188.864,67.349z"
          />
          <path
            style="fill:#4CAF50;"
            d="M459.136,63.765c-56.853,0-137.173,4.757-178.219,45.781c-36.267,36.267-30.571,112.491,0,143.083
                c20.311,17.174,46.318,26.117,72.896,25.067c25.769,1.074,50.946-7.915,70.208-25.067c41.045-41.045,45.781-121.365,45.781-178.219
                C469.791,68.528,465.019,63.765,459.136,63.765z"
          />
        </g>
        <path
          style="fill:#388E3C;"
          d="M224,448.235c-5.891,0-10.667-4.776-10.667-10.667c0-226.24-82.965-283.008-114.197-304.363
              c-3.767-2.405-7.334-5.109-10.667-8.085c-4.093-4.237-3.975-10.99,0.262-15.083c4.134-3.993,10.687-3.993,14.821,0
              c2.409,2.037,4.961,3.898,7.637,5.568c27.733,18.965,93.056,63.659,115.648,210.261c17.459-76.645,69.213-140.995,140.331-174.485
              c5.446-2.562,11.946-0.51,14.933,4.715c2.698,4.755,1.032,10.796-3.723,13.495c-0.178,0.101-0.36,0.197-0.544,0.287l-1.728,0.811
              c-116.949,54.976-141.504,175.467-141.504,266.88C234.603,443.434,229.866,448.199,224,448.235z"
        />
      </svg>
    </div>
    <div class="col p-0 mt-2 text-left">
      <h5 class="text-white mt-1">
        Wholesale Nursery
      </h5>
    </div>

    <div class="col p-0 mt-2 mb-2 mr-4 text-right">
      <button
        (click)="logout()"
        class="btn btn-light btn-sm border rounded pt-1 pb-1 pr-4 pl-4"
      >
        <strong>Logout</strong>
      </button>
    </div>
  </nav>
</div>

<div class="container d-flex justify-content-center">
  <button
    type="button"
    class="btn btn-lg btn-light border rounded pt-1 pb-1 pr-4 pl-4 mt-2"
    data-toggle="modal"
    data-target=".bd-example-modal-xl"
  >
    <strong>Create Product</strong>
  </button>
  <div
    class="modal fade bd-example-modal-xl"
    tabindex="-1"
    role="dialog"
    aria-labelledby="myExtraLargeModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content ml-2 mr-2">
        <div class="container bg-secondary pt-3">
          <form novalidate #form="ngForm" (ngSubmit)="submit(form)">
            <div class="form-group d-flex justify-content-center">
              <input
                class="form-control-lg"
                placeholder="Name"
                name="name"
                [(ngModel)]="name"
                required
              />
            </div>
            <div class="form-group d-flex justify-content-center">
              <input
                class="form-control-lg"
                placeholder="Category"
                type="category"
                name="category"
                [(ngModel)]="category"
                required
              />
            </div>
            <div class="form-group d-flex justify-content-center">
              <input
                class="form-control-lg"
                placeholder="Description"
                type="description"
                name="description"
                [(ngModel)]="description"
                required
              />
            </div>
            <div class="form-group d-flex justify-content-center">
              <input
                class="form-control-lg"
                placeholder="Price"
                type="price"
                name="price"
                [(ngModel)]="price"
                required
              />
            </div>
            <div class="text-center">
              <button class="btn btn-primary m-1" type="submit">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container bg-dark mt-2">
  <div class="row">
    <div class="col d-flex justify-content-center m-2">
      <h1 class="text-center text-white">Products</h1>
    </div>

    <div class="col d-flex justify-content-center m-2">
      <div
        class="btn btn-light font-weight-bold"
        (click)="isShowingProducts = !isShowingProducts"
        [textContent]="isShowingProducts ? 'Hide Products' : 'Show Products'"
      ></div>
    </div>
  </div>

  <div class="row pt-2" *ngIf="isShowingProducts">
    <div
      class="col p-2 m-2 text-center d-flex justify-content-center"
      *ngFor="let item of products"
    >
      <div
        class="card shadow-lg bg-primary"
        style="max-width: 12rem; max-height: 15rem;"
      >
        <div class="card-body pl-2 pr-2">
          <h5 class="card-title text-success">{{ item.name }}</h5>
          <h4 class="text-success mt-1 pt-1 pb-1 text-dark">
            <span class="text-info"> {{ item.category }}</span>
          </h4>
        </div>

        <button
          type="button"
          class="btn btn-light border rounded pt-1 pb-1 pr-4 pl-4 m-2"
          data-toggle="modal"
          data-target=".bd-edit-modal-xl"
          (click)="productID(item.id)"
        >
          <strong>Edit</strong>
        </button>

        <div
          class="modal fade bd-edit-modal-xl"
          tabindex="-1"
          role="dialog"
          aria-labelledby="myExtraLargeModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-xl">
            <div class="modal-content ml-2 mr-2">
              <div class="container bg-secondary">
                <form novalidate #form="ngForm" (ngSubmit)="submitUpdate(form)">
                  <div class="form-group d-flex justify-content-center">
                    <input
                      class="form-control-lg"
                      placeholder="Name"
                      name="name"
                      [(ngModel)]="name"
                      required
                    />
                  </div>
                  <div class="form-group d-flex justify-content-center">
                    <input
                      class="form-control-lg"
                      placeholder="Category"
                      type="category"
                      name="category"
                      [(ngModel)]="category"
                      required
                    />
                  </div>
                  <div class="form-group d-flex justify-content-center">
                    <input
                      class="form-control-lg"
                      placeholder="Description"
                      type="description"
                      name="description"
                      [(ngModel)]="description"
                      required
                    />
                  </div>
                  <div class="form-group d-flex justify-content-center">
                    <input
                      class="form-control-lg"
                      placeholder="Price"
                      type="price"
                      name="price"
                      [(ngModel)]="price"
                      required
                    />
                  </div>
                  <div class="text-center">
                    <button class="btn btn-primary m-1" type="submit">
                      Submit
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <button class="btn btn-sm btn-danger m-2" (click)="deleteProduct(item)">
          <strong>Delete</strong>
        </button>
      </div>
    </div>
  </div>
</div>

<div class="container d-flex justify-content-center"></div>

<div class="container bg-dark mt-2">
  <div class="row">
    <div class="col d-flex justify-content-center m-2">
      <h1 class="text-center text-white">Orders</h1>
    </div>
    <div class="col d-flex justify-content-center m-2">
      <div
        class="btn btn-light font-weight-bold"
        (click)="isShowingOrders = !isShowingOrders"
        [textContent]="isShowingOrders ? 'Hide Orders' : 'Show Orders'"
      ></div>
    </div>
  </div>

  <div class="row pt-2" *ngIf="isShowingOrders">
    <div
      class="col p-2 m-2 text-center d-flex justify-content-center"
      *ngFor="let item of getOrders()"
    >
      <div class="card shadow-lg bg-primary">
        <div class="card-body pl-2 pr-2">
          <h6 class="card-title text-white">Order Name</h6>
          <h6 class="card-title text-success">{{ item.name }}</h6>
          <h6 class="text-info">{{ item.address }}</h6>
        </div>
        <h6 class="text-white">Order Products</h6>
        <ul class="list-group pt-2">
          <li
            class="list-group-item p-2 m-2"
            *ngFor="let prod of item.products"
          >
            <h6>{{ prod.name }}</h6>
          </li>
        </ul>
        <div
          class="btn btn-sm btn-light"
          (click)="shipOrder(item)"
          [textContent]="item.shipped ? 'Order Shipped' : 'Ship Order'"
        ></div>
        <button class="btn btn-sm btn-danger" (click)="deleteOrder(item)">
          <strong>Delete</strong>
        </button>
      </div>
    </div>
  </div>
</div>
